# ============================================
# MYXCROW - Environment Variables Template
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ============================================
# Application Configuration
# ============================================
NODE_ENV=development
PORT=4000
WEB_APP_URL=http://localhost:3007
# Base URL for web app (Paystack callback, CORS, etc.). Falls back to WEB_APP_URL if unset.
WEB_BASE_URL=http://localhost:3007

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5434/escrow

# ============================================
# Redis Configuration
# ============================================
# Redis connection URL (preferred)
# Format: redis://[:password@]host[:port]
REDIS_URL=redis://localhost:6380

# OR use individual settings:
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# ============================================
# JWT Authentication
# ============================================
# Generate a strong secret: openssl rand -base64 32
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# S3 / MinIO Storage Configuration
# ============================================
# For local development (MinIO):
S3_ENDPOINT=http://localhost:9003
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=escrow-evidence
S3_REGION=us-east-1

# For production (AWS S3 or compatible):
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
# S3_BUCKET=escrow-evidence
# S3_REGION=us-east-1

# ============================================
# Paystack Payment Gateway
# ============================================
# Get your keys from: https://dashboard.paystack.com/#/settings/developer
PAYSTACK_SECRET_KEY=sk_test_your_secret_key_here
PAYSTACK_PUBLIC_KEY=pk_test_your_public_key_here
PAYSTACK_WEBHOOK_SECRET=your_webhook_secret_here

# Currency and Country defaults
DEFAULT_CURRENCY=GHS
DEFAULT_COUNTRY=GH

# ============================================
# Email Configuration (SMTP)
# ============================================
# NEVER hardcode credentials. Use env vars (Render Dashboard, .env locally).
#
# For local development (Mailpit):
# EMAIL_HOST=localhost
# EMAIL_PORT=1026
# EMAIL_USER=
# EMAIL_PASS=
#
# For Namecheap Private Email / production:
# EMAIL_HOST=mail.privateemail.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=admin@myxcrow.com
# EMAIL_PASS=your-app-password
# EMAIL_FROM=noreply@myxcrow.com
#
# For SendGrid: EMAIL_HOST=smtp.sendgrid.net, EMAIL_PORT=587, EMAIL_USER=apikey
EMAIL_HOST=localhost
EMAIL_PORT=1026
EMAIL_SECURE=false
EMAIL_USER=
EMAIL_PASS=
EMAIL_FROM=noreply@myxcrow.com
# Admin receives new-user, KYC-pending alerts
ADMIN_EMAIL=admin@myxcrow.com

# ============================================
# SMS Configuration
# ============================================
# Enable SMS notifications (true/false)
SMS_ENABLED=false

# SMS Provider: africas_talking, twilio, arkesel, or none
# Use arkesel for Ghana phone verification (OTP) - set SMS_ENABLED=true
SMS_PROVIDER=arkesel

# Arkesel Configuration (Ghana - for SMS OTP verification)
# Get API key from: https://sms.arkesel.com/user/sms-api/info
ARKESEL_API_KEY=your_arkesel_api_key
SMS_SENDER_ID=MYXCROW

# Africa's Talking Configuration (Alternative)
# Get credentials from: https://account.africastalking.com/
AFRICASTALKING_USERNAME=your_username
AFRICASTALKING_API_KEY=your_api_key
SMS_SENDER_ID=MYXCROW

# Twilio Configuration (Alternative)
# Get credentials from: https://www.twilio.com/console
# TWILIO_ACCOUNT_SID=your_account_sid
# TWILIO_AUTH_TOKEN=your_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# Security Configuration
# ============================================
# Enable CSRF protection (true/false)
CSRF_ENABLED=true

# Rate limiting (requests per minute). With REDIS_URL set, rate limits are shared across API instances.
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# Encryption key for sensitive data
# Generate: openssl rand -base64 32
ENCRYPTION_KEY=your-encryption-key-here

# ============================================
# Frontend Configuration (Next.js)
# ============================================
# These are used by the frontend application
NEXT_PUBLIC_API_BASE_URL=http://localhost:4000/api
NEXT_PUBLIC_MAILPIT_URL=http://localhost:8026
NEXT_PUBLIC_MINIO_CONSOLE=http://localhost:9004
NEXT_PUBLIC_ENV=local

# ============================================
# Live Chat Configuration (Intercom)
# ============================================
# Get your App ID from: https://app.intercom.com/a/apps/_/settings/webhooks
NEXT_PUBLIC_INTERCOM_APP_ID=your-intercom-app-id
EXPO_PUBLIC_INTERCOM_APP_ID=your-intercom-app-id
EXPO_PUBLIC_INTERCOM_API_KEY=your-intercom-api-key
INTERCOM_ACCESS_TOKEN=your-intercom-access-token

# ============================================
# Optional: CI/CD Configuration
# ============================================
CI=false

# ============================================
# Notes
# ============================================
# 1. For local development, use the default values above
# 2. For production, update all values with secure credentials
# 3. Never commit .env files to version control
# 4. Use environment variable management in your deployment platform
# 5. Rotate secrets regularly in production
